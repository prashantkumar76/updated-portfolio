import{aw as D,V as L,c as h,Q as C,M as qn,s as Gn,aG as Q,C as Cn,w as jn}from"./index-B9Y4ZT61.js";function q(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function G(r,n){return G=Object.setPrototypeOf||function(a,e){return a.__proto__=e,a},G(r,n)}function Tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wn(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var a=n[0],e=n[1],o=n[2],i=n[3],u=n[4],f=n[5],c=n[6],d=n[7],p=n[8];return a*u*p+e*f*c+o*i*d-o*u*c-e*i*p-a*f*d}function k(r,n){for(var t=[],a=r.toArray(),e=n.toArray(),o=0;o<a.length;o++)t[o]=a[o]+e[o];return new D().fromArray(t)}function Hn(r){if(Array.isArray(r))return r}function kn(r,n){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var a=[],e=!0,o=!1,i,u;try{for(t=t.call(r);!(e=(i=t.next()).done)&&(a.push(i.value),!(n&&a.length===n));e=!0);}catch(f){o=!0,u=f}finally{try{!e&&t.return!=null&&t.return()}finally{if(o)throw u}}return a}}function j(r,n){(n==null||n>r.length)&&(n=r.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=r[t];return a}function Rn(r,n){if(r){if(typeof r=="string")return j(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(r,n)}}function Bn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(r,n){return Hn(r)||kn(r,n)||Rn(r,n)||Bn()}function Nn(r){if(Array.isArray(r))return j(r)}function Un(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Jn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(r){return Nn(r)||Un(r)||Rn(r)||Jn()}function E(r,n,t){return Tn()?E=Reflect.construct:E=function(e,o,i){var u=[null];u.push.apply(u,o);var f=Function.bind.apply(e,u),c=new f;return i&&G(c,i.prototype),c},E.apply(null,arguments)}function Kn(r){var n=y(r[0],2),t=n[0],a=n[1],e=y(r[1],2),o=e[0],i=e[1],u=y(r[2],2),f=u[0],c=u[1];return Wn(t,a,1,o,i,1,f,c,1)}function Xn(r){return Kn(r)===0}var Yn=new L,Zn=new L;function B(r){var n=r.map(function(c){return Array.isArray(c)?E(L,F(c)):c}),t=y(n,3),a=t[0],e=t[1],o=t[2];if(Xn(r))return!1;var i=Yn.subVectors(e,a),u=Zn.subVectors(o,a),f=u.cross(i);return f>0}function Sn(r,n,t){return Math.max(n,Math.min(t,r))}function Dn(r,n){return Sn(r-Math.floor(r/n)*n,0,n)}function En(r,n){var t=Dn(n-r,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function nr(r){return r/180*Math.PI}function rr(r){return r*180/Math.PI}function tr(r,n){for(var t=n.radius,a=t===void 0?1:t,e=r.length/3,o=2/e,i=Math.PI*(3-2.2360679775),u=0;u<r.length;u+=3){var f=u*o-1+o/2,c=Math.sqrt(1-Math.pow(f,2)),d=u%e*i,p=Math.cos(d)*c,w=Math.sin(d)*c;r[u]=p*a,r[u+1]=f*a,r[u+2]=w*a}}function ar(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.EPSILON;return Math.abs(r.x-n.x)<t&&Math.abs(r.y-n.y)<t&&Math.abs(r.z-n.z)<t}function Fn(r,n){return r.x===n.x?typeof r.z<"u"&&r.y===n.y?r.z-n.z:r.y-n.y:r.x-n.x}function er(r){for(var n=r.sort(Fn),t=[n[0],n[1]],a=2;a<n.length;a++)for(t.push(n[a]);t.length>2&&B(F(t.slice(-3)));)t.splice(t.length-2,1);for(var e=[n[n.length-1],n[n.length-2]],o=n.length-3;o>=0;o--)for(e.push(n[o]);e.length>2&&B(F(e.slice(-3)));)e.splice(e.length-2,1);e.splice(0,1),e.splice(e.length-1,1);var i=[].concat(t,e);return i}function or(r,n,t){var a=y(n,2),e=a[0],o=a[1],i=y(t,2),u=i[0],f=i[1];return u+(r-e)*(f-u)/(o-e)}function ir(r){return r*r*r*(r*(r*6-15)+10)}function ur(r,n,t){return r*(1-t)+n*t}function Vn(r,n,t){return(t-r)/(n-r)}function fr(r,n,t){var a=Math.sqrt(r*r+n*n+t*t);return[r/a,n/a,t/a]}function cr(r,n,t){var a=r*r,e=n*n,o=t*t,i=r*Math.sqrt(1-(e+o)/2+e*o/3),u=n*Math.sqrt(1-(o+a)/2+o*a/3),f=t*Math.sqrt(1-(a+e)/2+a*e/3);return[i,u,f]}function Ln(r,n){var t=new h().crossVectors(r,n),a=r.dot(n),e=new D().identity(),o=new D().set(0,-t.z,t.y,t.z,0,-t.x,-t.y,t.x,0),i=new D().multiplyMatrices(o,o).multiplyScalar(1/(1+a)),u=k(k(e,o),i);return u}function lr(r,n,t){var a=Math.asin(n),e=Math.atan2(r,-t);return[a,e]}function sr(r,n){var t=Math.sin(r),a=Math.cos(r),e=Math.sin(n)*a,o=-Math.cos(n)*a;return[e,t,o]}function vr(r,n){var t=y(n,2),a=t[0],e=t[1],o=Ln(r.normal,new h(0,1,0)),i=Vn(a.clone().applyMatrix3(o).y,e.clone().applyMatrix3(o).y,0);return new h().lerpVectors(a,e,i)}function pr(r,n){var t=n.normal.dot(r);return t}function yr(r,n){var t=y(r,3),a=t[0],e=t[1],o=t[2],i=y(n,2),u=i[0],f=i[1];return o*u*f+e*u+a}function hr(r,n){var t=y(n,2),a=t[0],e=t[1],o=a*e,i=r/o,u=r-o*i,f=u/a,c=u%a;return[c,f,i]}function mr(r,n){return r[0]+n[0]*r[1]}function dr(r,n){var t=r%n,a=Math.floor(r/n);return[t,a]}var Gr=Object.freeze({__proto__:null,clamp:Sn,repeat:Dn,deltaAngle:En,degToRad:nr,radToDeg:rr,fibonacciOnSphere:tr,vectorEquals:ar,lexicographic:Fn,convexHull:er,remap:or,fade:ir,lerp:ur,inverseLerp:Vn,normalize:fr,pointOnCubeToPointOnSphere:cr,rotateVectorOnVector:Ln,pointToCoordinate:lr,coordinateToPoint:sr,planeSegmentIntersection:vr,pointToPlaneDistance:pr,getIndexFrom3D:yr,get3DFromIndex:hr,getIndexFrom2D:mr,get2DFromIndex:dr});function Qn(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var s=function r(n,t,a){var e=this;Qn(this,r),q(this,"dot2",function(o,i){return e.x*o+e.y*i}),q(this,"dot3",function(o,i,u){return e.x*o+e.y*i+e.z*u}),this.x=n,this.y=t,this.z=a},_r=[new s(1,1,0),new s(-1,1,0),new s(1,-1,0),new s(-1,-1,0),new s(1,0,1),new s(-1,0,1),new s(1,0,-1),new s(-1,0,-1),new s(0,1,1),new s(0,-1,1),new s(0,1,-1),new s(0,-1,-1)],N=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],U=new Array(512),J=new Array(512),wr=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var t=0;t<256;t++){var a;t&1?a=N[t]^n&255:a=N[t]^n>>8&255,U[t]=U[t+256]=a,J[t]=J[t+256]=_r[a%12]}};wr(0);function Mr(r){if(typeof r=="number")r=Math.abs(r);else if(typeof r=="string"){var n=r;r=0;for(var t=0;t<n.length;t++)r=(r+(t+1)*(n.charCodeAt(t)%96))%2147483647}return r===0&&(r=311),r}function K(r){var n=Mr(r);return function(){var t=n*48271%2147483647;return n=t,t/2147483647}}var Ar=function r(n){var t=this;Qn(this,r),q(this,"seed",0),q(this,"init",function(a){t.seed=a,t.value=K(a)}),q(this,"value",K(this.seed)),this.init(n)};new Ar(Math.random());var br=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return a/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*n*e)/t)},$n=function(n){return 1/(1+n+.48*n*n+.235*n*n*n)},gr=function(n){return n},zr={in:function(n){return 1-Math.cos(n*Math.PI/2)},out:function(n){return Math.sin(n*Math.PI/2)},inOut:function(n){return-(Math.cos(Math.PI*n)-1)/2}},Ir={in:function(n){return n*n*n},out:function(n){return 1-Math.pow(1-n,3)},inOut:function(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}},Or={in:function(n){return n*n*n*n*n},out:function(n){return 1-Math.pow(1-n,5)},inOut:function(n){return n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2}},xr={in:function(n){return 1-Math.sqrt(1-Math.pow(n,2))},out:function(n){return Math.sqrt(1-Math.pow(n-1,2))},inOut:function(n){return n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2}},Pr={in:function(n){return n*n*n*n},out:function(n){return 1- --n*n*n*n},inOut:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n}},qr={in:function(n){return n===0?0:Math.pow(2,10*n-10)},out:function(n){return n===1?1:1-Math.pow(2,-10*n)},inOut:function(n){return n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2}};function l(r,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,i=arguments.length>6&&arguments[6]!==void 0?arguments[6]:$n,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,f="velocity_"+n;if(r.__damp===void 0&&(r.__damp={}),r.__damp[f]===void 0&&(r.__damp[f]=0),Math.abs(r[n]-t)<=u)return r[n]=t,!1;a=Math.max(1e-4,a);var c=2/a,d=i(c*e),p=r[n]-t,w=t,W=o*a;p=Math.min(Math.max(p,-W),W),t=r[n]-p;var H=(r.__damp[f]+c*p)*e;r.__damp[f]=(r.__damp[f]-c*H)*d;var R=t+(p+H)*d;return w-r[n]>0==R>w&&(R=w,r.__damp[f]=(R-w)/e),r[n]=R,!0}var Cr=function(n){return n&&n.isCamera},Rr=function(n){return n&&n.isLight},g=new h,X=new C,Y=new C,z=new qn,$=new h;function Sr(r,n,t,a,e,o,i){typeof n=="number"?g.setScalar(n):Array.isArray(n)?g.set(n[0],n[1],n[2]):g.copy(n);var u=r.parent;r.updateWorldMatrix(!0,!1),$.setFromMatrixPosition(r.matrixWorld),Cr(r)||Rr(r)?z.lookAt($,g,r.up):z.lookAt(g,$,r.up),V(r.quaternion,Y.setFromRotationMatrix(z),t,a,e,o,i),u&&(z.extractRotation(u.matrixWorld),X.setFromRotationMatrix(z),V(r.quaternion,Y.copy(r.quaternion).premultiply(X.invert()),t,a,e,o,i))}function b(r,n,t,a,e,o,i,u){return l(r,n,r[n]+En(r[n],t),a,e,o,i,u)}var I=new L,Z,nn;function Dr(r,n,t,a,e,o,i){return typeof n=="number"?I.setScalar(n):Array.isArray(n)?I.set(n[0],n[1]):I.copy(n),Z=l(r,"x",I.x,t,a,e,o,i),nn=l(r,"y",I.y,t,a,e,o,i),Z||nn}var M=new h,rn,tn,an;function T(r,n,t,a,e,o,i){return typeof n=="number"?M.setScalar(n):Array.isArray(n)?M.set(n[0],n[1],n[2]):M.copy(n),rn=l(r,"x",M.x,t,a,e,o,i),tn=l(r,"y",M.y,t,a,e,o,i),an=l(r,"z",M.z,t,a,e,o,i),rn||tn||an}var _=new Q,en,on,un,fn;function Er(r,n,t,a,e,o,i){return typeof n=="number"?_.setScalar(n):Array.isArray(n)?_.set(n[0],n[1],n[2],n[3]):_.copy(n),en=l(r,"x",_.x,t,a,e,o,i),on=l(r,"y",_.y,t,a,e,o,i),un=l(r,"z",_.z,t,a,e,o,i),fn=l(r,"w",_.w,t,a,e,o,i),en||on||un||fn}var O=new jn,cn,ln,sn;function Fr(r,n,t,a,e,o,i){return Array.isArray(n)?O.set(n[0],n[1],n[2],n[3]):O.copy(n),cn=b(r,"x",O.x,t,a,e,o,i),ln=b(r,"y",O.y,t,a,e,o,i),sn=b(r,"z",O.z,t,a,e,o,i),cn||ln||sn}var A=new Cn,vn,pn,yn;function Vr(r,n,t,a,e,o,i){return n instanceof Cn?A.copy(n):Array.isArray(n)?A.setRGB(n[0],n[1],n[2]):A.set(n),vn=l(r,"r",A.r,t,a,e,o,i),pn=l(r,"g",A.g,t,a,e,o,i),yn=l(r,"b",A.b,t,a,e,o,i),vn||pn||yn}var v=new C,m=new Q,hn=new Q,x=new Q,mn,dn,_n,wn;function V(r,n,t,a,e,o,i){var u=r;Array.isArray(n)?v.set(n[0],n[1],n[2],n[3]):v.copy(n);var f=r.dot(v)>0?1:-1;return v.x*=f,v.y*=f,v.z*=f,v.w*=f,mn=l(r,"x",v.x,t,a,e,o,i),dn=l(r,"y",v.y,t,a,e,o,i),_n=l(r,"z",v.z,t,a,e,o,i),wn=l(r,"w",v.w,t,a,e,o,i),m.set(r.x,r.y,r.z,r.w).normalize(),hn.set(u.__damp.velocity_x,u.__damp.velocity_y,u.__damp.velocity_z,u.__damp.velocity_w),x.copy(m).multiplyScalar(hn.dot(m)/m.dot(m)),u.__damp.velocity_x-=x.x,u.__damp.velocity_y-=x.y,u.__damp.velocity_z-=x.z,u.__damp.velocity_w-=x.w,r.set(m.x,m.y,m.z,m.w),mn||dn||_n||wn}var P=new Gn,Mn,An,bn;function Lr(r,n,t,a,e,o,i){return Array.isArray(n)?P.set(n[0],n[1],n[2]):P.copy(n),Mn=l(r,"radius",P.radius,t,a,e,o,i),An=b(r,"phi",P.phi,t,a,e,o,i),bn=b(r,"theta",P.theta,t,a,e,o,i),Mn||An||bn}var S=new qn,gn=new h,zn=new C,In=new h,On,xn,Pn;function Qr(r,n,t,a,e,o,i){var u=r;return u.__damp===void 0&&(u.__damp={position:new h,rotation:new C,scale:new h},r.decompose(u.__damp.position,u.__damp.rotation,u.__damp.scale)),Array.isArray(n)?S.set.apply(S,F(n)):S.copy(n),S.decompose(gn,zn,In),On=T(u.__damp.position,gn,t,a,e,o,i),xn=V(u.__damp.rotation,zn,t,a,e,o,i),Pn=T(u.__damp.scale,In,t,a,e,o,i),r.compose(u.__damp.position,u.__damp.rotation,u.__damp.scale),On||xn||Pn}var jr=Object.freeze({__proto__:null,rsqw:br,exp:$n,linear:gr,sine:zr,cubic:Ir,quint:Or,circ:xr,quart:Pr,expo:qr,damp:l,dampLookAt:Sr,dampAngle:b,damp2:Dr,damp3:T,damp4:Er,dampE:Fr,dampC:Vr,dampQ:V,dampS:Lr,dampM:Qr});export{jr as e,Gr as m};
